"use strict";function getRandomColors(){for(var t="0123456789ABCDEF".split(""),e="#",o=0;6>o;o++)e+=t[Math.floor(16*Math.random())];return e}function isNotNull(t){return t?!0:!1}function getImgTag(t,e,o){var a=angular.element("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:t,height:e}).css({"background-color":o,width:t+"px",height:e+"px"});return a}function getCharacterObject(t,e,o,a,r){var l=angular.element('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:e,"font-family":o}).html(t).css({"font-weight":a,"font-size":r+"px"});return l}var nla=angular.module("ngLetterAvatar",[]);nla.constant("defaultSettings",{alphabetcolors:["#5A8770","#B2B7BB","#6FA9AB","#F5AF29","#0088B9","#F18636","#D93A37","#A6B12E","#5C9BBC","#F5888D","#9A89B5","#407887","#9A89B5","#5A8770","#D33F33","#A2B01F","#F0B126","#0087BF","#F18636","#0087BF","#B2B7BB","#72ACAE","#9C8AB4","#5A8770","#EEB424","#407887"],textColor:"#ffffff",defaultBorder:"border:5px solid white",fontsize:30,height:50,width:50,fontWeight:400,charCount:1,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",base:"data:image/svg+xml;base64,",radius:"border-radius:30px;"}),nla.directive("ngLetterAvatar",["defaultSettings",function(t){return{restrict:"AE",replace:!0,scope:{alphabetcolors:"=alphabetcolors",colorFunc:"&"},link:function(e,o,a){var r={charCount:isNotNull(a.charcount)?a.charcount:t.charCount,data:a.data,textColor:t.textColor,height:isNotNull(a.height)?a.height:t.height,width:isNotNull(a.width)?a.width:t.width,fontsize:isNotNull(a.fontsize)?a.fontsize:t.fontsize,fontWeight:isNotNull(a.fontweight)?a.fontweight:t.fontWeight,fontFamily:isNotNull(a.fontfamily)?a.fontfamily:t.fontFamily,avatarBorderStyle:a.avatarcustomborder,avatardefaultBorder:a.avatarborder,defaultBorder:t.defaultBorder,shape:a.shape,alphabetcolors:e.alphabetcolors||t.alphabetcolors,boxColor:isNotNull(a.boxColor)?a.boxColor:null,colorFunc:e.colorFunc()},l=r.data.substr(0,r.charCount).toUpperCase(),n=getCharacterObject(l,r.textColor,r.fontFamily,r.fontWeight,r.fontsize),i="",s="";null!=r.boxColor?s=r.boxColor:r.colorFunc?s=r.colorFunc(l):l.charCodeAt(0)<65?s=getRandomColors():(i=Math.floor((l.charCodeAt(0)-65)%r.alphabetcolors.length),s=r.alphabetcolors[i]);var h=getImgTag(r.width,r.height,s);h.append(n);var c,u=angular.element("<div>").append(h.clone()).html(),d=window.btoa(unescape(encodeURIComponent(u))),f=t.base,g="";if(r.avatarBorderStyle?g=r.avatarBorderStyle:r.avatardefaultBorder&&(g=r.defaultBorder),r.shape){if("round"===r.shape){var p=t.radius+g;c="<img src="+f+d+" style='"+p+"' />"}}else c="<img src="+f+d+" style='"+g+"' />";o.replaceWith(c)}}}]);